@*//-----------------------------------------------------------------------
// Copyright 2016 Sitecore Corporation A/S
// Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file
// except in compliance with the License. You may obtain a copy of the License at
//       http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software distributed under the
// License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
// either express or implied. See the License for the specific language governing permissions
// and limitations under the License.
// -------------------------------------------------------------------------------------------*@

@using Sitecore.Reference.Storefront.Managers

<div id="B02-Basket" class="basket">
    <div class="amount">
        <a href="@StorefrontManager.StorefrontUri("/ShoppingCart")" class="toggle-cart">
            <strong id="miniCartItemCount" data-bind="text: lineitemcount">
            </strong>
            @Html.Sitecore().Field(StorefrontConstants.ItemFields.Title, Html.Sitecore().CurrentItem)
        </a>
    </div>
    <div class="checkout"><button type="button" id="rsf-btn-checkout" onclick="window.location.href='@StorefrontManager.StorefrontUri("/Checkout")'" class="btn btn-info">@Html.Sitecore().Field("CheckoutLabel", Html.Sitecore().CurrentItem)</button></div>
    <div class="minicart hide-cart hidden-sm hidden-xs">
        <div class="minicart-content" data-bind="foreach: miniCartItems, visible:miniCartItems().length">
            <div class="minicart-item" data-bind="attr: {'data-ajax-lineitemid': externalCartlineId}">
                <img class="img-responsive" alt="a" data-bind="attr:{src: image, alt: displayName}">
                <div class="minicart-info">
                    <h5><a style="display: inline-block;width: 200px;" data-bind="text: displayName, attr:{ href:productUrl}"></a></h5>
                    <p>@Html.Sitecore().Field("Quantity", Html.Sitecore().CurrentItem) <strong data-bind="text: quantity"></strong></p>
                    <p>@Html.Sitecore().Field("Price", Html.Sitecore().CurrentItem) <strong data-bind="text: linePrice"></strong></p>
                </div>
                <span class="minicart-delete">
                    <a href="#"><span class="glyphicon glyphicon-remove-circle"></span></a>
                </span>
                <div class="clearfix"></div>
            </div>
            <div class="minicart-itemspacer"></div>
        </div>
        <div class="minicart-footer">
            <a class="btn btn-primary" href="@StorefrontManager.StorefrontUri("/ShoppingCart")">@Html.Sitecore().Field("ViewCartLabel", Html.Sitecore().CurrentItem)</a>
            <span class="minicart-total">@Html.Sitecore().Field("Total", Html.Sitecore().CurrentItem) <span data-bind="text: total"></span></span>
        </div>
    </div>
</div>

<script type="text/javascript">
    initMiniShoppingCart("B02-Basket");
</script>