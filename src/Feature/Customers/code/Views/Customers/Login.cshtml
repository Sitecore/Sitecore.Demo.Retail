@*//-----------------------------------------------------------------------
  // Copyright 2016 Sitecore Corporation A/S
  // Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file
  // except in compliance with the License. You may obtain a copy of the License at
  //       http://www.apache.org/licenses/LICENSE-2.0
  //
  // Unless required by applicable law or agreed to in writing, software distributed under the
  // License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
  // either express or implied. See the License for the specific language governing permissions
  // and limitations under the License.
  // -------------------------------------------------------------------------------------------*@
@using Sitecore.Foundation.Commerce
@using Sitecore.Foundation.Commerce.Extensions
@using Sitecore.Mvc.Configuration
@model Sitecore.Feature.Commerce.Customers.Models.LoginViewModel

@using (Html.BeginRouteForm(MvcSettings.SitecoreRouteName, new
                                                           {
                                                               ViewBag.ReturnUrl
                                                           }))
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true)

    @Html.Sitecore().FormHandler()

    <!-- CONTENT CONTAINER -->
    <div class="form-group">
        <label for="UserName">@Html.Sitecore().Text("/Customers/Login/Email", "E-mail")</label><span class="required">*</span>
        @Html.TextBoxFor(m => m.UserName, new
                                            {
                                                placeholder = Html.Sitecore().Text("/Customers/Login/Enter Email", "Enter your e-mail address"),
                                                data_val_required = Html.Sitecore().Text("/Customers/Login/Email Required", "Please enter your e-mail address."),
                                                @class = "form-control"
                                            })
        @Html.ValidationMessageFor(m => m.UserName)
    </div>
    <div class="form-group">
        <label for="Password">@Html.Sitecore().Text("/Customers/Login/Password", "Password")</label><span class="required">*</span>
        @Html.PasswordFor(m => m.Password, new
                                            {
                                                placeholder = Html.Sitecore().Text("/Customers/Login/Enter Password", "Enter your password"),
                                                data_val_required = Html.Sitecore().Text("/Customers/Login/Password Required", "Please enter your password."),
                                                @class = "form-control",
                                                autocomplete = "off"
                                            })

        @Html.ValidationMessageFor(m => m.Password)
    </div>
    <button type="submit" id="SignInButton" data-loading-text="@Html.Sitecore().Text("/Customers/Login/Signing In", "Signing In...")" class="btn btn-primary btn-lg btn-block">@Html.Sitecore().Text("/Customers/Login/Sign In", "Sign In")</button>

    <div class="row m-t-1">
        <div class="col-lg-6">
            <button type="button" id="GetToRegisterButton" onclick="window.location.href = '@("/Register")'" class="btn btn-default btn-lg btn-block">@Html.Sitecore().Text("/Customers/Login/Register", "Register")</button>
        </div>
        <div class="col-lg-6">
            <a class="btn btn-link btn-lg btn-block" href="@("/forgotpassword")">@Html.Sitecore().Field("Forgot Password", Html.Sitecore().CurrentItem)</a>
        </div>
    </div>
}

<script type="text/javascript">
    $(document)
        .on('submit',
            'form',
            function() {
                $("#SignInButton").button('loading');
            });
</script>
